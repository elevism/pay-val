import { Card, CardType } from './interface';

const defaultFormat = /(\d{1,4})/g;

/**
 * Card type configuration
 */
export const CARDS: Record<CardType, Card> = {
  [CardType.Amex]: {
    type: CardType.Amex,
    pattern: /^3[47]/,
    format: /(\d{1,4})(\d{1,6})?(\d{1,5})?/,
    minLength: 15,
    maxLength: 15,
    cvcLength: 4,
    luhn: true,
  },
  [CardType.Dankort]: {
    type: CardType.Dankort,
    pattern: /^5019/,
    format: defaultFormat,
    minLength: 16,
    maxLength: 16,
    cvcLength: 3,
    luhn: true,
  },
  [CardType.DinersClub]: {
    type: CardType.DinersClub,
    pattern: /^(36|38|30[0-5])/,
    format: /(\d{1,4})(\d{1,6})?(\d{1,4})?/,
    minLength: 14,
    maxLength: 14,
    cvcLength: 3,
    luhn: true,
  },
  [CardType.Discover]: {
    type: CardType.Discover,
    pattern: /^(6011|65|64[4-9]|622)/,
    format: defaultFormat,
    minLength: 16,
    maxLength: 16,
    cvcLength: 3,
    luhn: true,
  },
  [CardType.Elo]: {
    type: CardType.Elo,
    pattern: /^401178|^401179|^431274|^438935|^451416|^457393|^457631|^457632|^504175|^627780|^636297|^636369|^636368|^(506699|5067[0-6]\d|50677[0-8])|^(50900\d|5090[1-9]\d|509[1-9]\d{2})|^65003[1-3]|^(65003[5-9]|65004\d|65005[0-1])|^(65040[5-9]|6504[1-3]\d)|^(65048[5-9]|65049\d|6505[0-2]\d|65053[0-8])|^(65054[1-9]|6505[5-8]\d|65059[0-8])|^(65070\d|65071[0-8])|^65072[0-7]|^(65090[1-9]|65091\d|650920)|^(65165[2-9]|6516[6-7]\d)|^(65500\d|65501\d)|^(65502[1-9]|6550[3-4]\d|65505[0-8])|^(65092[1-9]|65097[0-8])/,
    format: defaultFormat,
    minLength: 16,
    maxLength: 16,
    cvcLength: 3,
    luhn: true,
  },
  [CardType.Hipercard]: {
    type: CardType.Hipercard,
    pattern: /^(384100|384140|384160|606282|637095|637568|60(?!11))/,
    format: defaultFormat,
    minLength: 14,
    maxLength: 19,
    cvcLength: 3,
    luhn: true,
  },
  [CardType.JCB]: {
    type: CardType.JCB,
    pattern: /^(308[8-9]|309[0-3]|3094[0]{4}|309[6-9]|310[0-2]|311[2-9]|3120|315[8-9]|333[7-9]|334[0-9]|35)/,
    format: defaultFormat,
    minLength: 16,
    maxLength: 19,
    cvcLength: 3,
    luhn: true,
  },
  [CardType.Laser]: {
    type: CardType.Laser,
    pattern: /^(6706|6771|6709)/,
    format: defaultFormat,
    minLength: 16,
    maxLength: 19,
    cvcLength: 3,
    luhn: true,
  },
  [CardType.Maestro]: {
    type: CardType.Maestro,
    pattern: /^(50|5[6-9]|6007|6220|6304|6703|6708|6759|676[1-3])/,
    format: defaultFormat,
    minLength: 12,
    maxLength: 19,
    cvcLength: 3,
    luhn: true,
  },
  [CardType.MasterCard]: {
    type: CardType.MasterCard,
    pattern: /^(5[1-5]|677189)|^(222[1-9]|2[3-6]\d{2}|27[0-1]\d|2720)/,
    format: defaultFormat,
    minLength: 16,
    maxLength: 16,
    cvcLength: 3,
    luhn: true,
  },
  [CardType.Mir]: {
    type: CardType.Mir,
    pattern: /^220[0-4][0-9][0-9]\d{10}$/,
    format: defaultFormat,
    minLength: 16,
    maxLength: 16,
    cvcLength: 3,
    luhn: true,
  },
  [CardType.Troy]: {
    type: CardType.Troy,
    pattern: /^9792/,
    format: defaultFormat,
    minLength: 16,
    maxLength: 16,
    cvcLength: 3,
    luhn: true,
  },
  [CardType.UnionPay]: {
    type: CardType.UnionPay,
    pattern: /^62/,
    format: defaultFormat,
    minLength: 16,
    maxLength: 19,
    cvcLength: 3,
    luhn: false,
  },
  [CardType.VisaElectron]: {
    type: CardType.VisaElectron,
    pattern: /^4(026|17500|405|508|844|91[37])/,
    format: defaultFormat,
    minLength: 16,
    maxLength: 16,
    cvcLength: 3,
    luhn: true,
  },
  [CardType.Visa]: {
    type: CardType.Visa,
    pattern: /^4/,
    format: defaultFormat,
    minLength: 13,
    maxLength: 16,
    cvcLength: 3,
    luhn: true,
  },
};
